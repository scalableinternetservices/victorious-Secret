$(document).ready(function(){function e(){geocoder=new google.maps.Geocoder;var e={zoom:8};map=new google.maps.Map(document.getElementById("map-canvas"),e),navigator.geolocation?navigator.geolocation.getCurrentPosition(o):alert("your browser doesn't support HTML5. Please enter address")}function o(e){pos=new google.maps.LatLng(e.coords.latitude,e.coords.longitude);var o=new google.maps.InfoWindow({map:map,position:pos});geocoder.geocode({latLng:pos},function(t,a){a==google.maps.GeocoderStatus.OK?t[1]?(map.setZoom(11),map.setCenter(pos),marker=new google.maps.Marker({position:pos,map:map}),o.setContent(t[0].formatted_address),o.open(map,marker),document.getElementById("lat").value=e.coords.latitude,document.getElementById("lon").value=e.coords.longitude,document.getElementById("address").value=t[0].formatted_address):alert("No results found"):alert("Geocoder failed due to: "+a)})}function t(){var e=document.getElementById("address").value;return geocoder=new google.maps.Geocoder,$("#post-submit").unbind("submit"),geocoder.geocode({address:e},function(e,o){o==google.maps.GeocoderStatus.OK?confirm("do you want to use this address??".concat(e[0].formatted_address))?(document.getElementById("lat").value=e[0].geometry.location.lat(),document.getElementById("lon").value=e[0].geometry.location.lng(),document.getElementById("address").value=e[0].formatted_address,$("#post-submit").submit()):$("#post-submit").bind("submit",t):(alert("There seems to be a problem with address. please enter again"),$("#post-submit").bind("submit",t))}),!1}$("#post-submit").bind("submit",t),$("#map-canvas").length&&e()});